<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  html,body{margin:0;height:100%;width:100%;overflow:hidden;background:#000}
  iframe{position:absolute;inset:0;width:100%;height:100%;border:0}

  /* Click layer enkel zichtbaar wanneer LoopSign getoond wordt */
  #tapLayer{
    position:absolute; inset:0;
    background:rgba(0,0,0,0); /* transparant */
    z-index:9999;
    touch-action: manipulation;
    user-select:none;
  }

  #hint{
    position:absolute; left:12px; bottom:12px; z-index:10000;
    padding:8px 10px; border-radius:10px;
    background:rgba(0,0,0,.55); color:#fff;
    font:14px Arial;
    pointer-events:none;
  }
</style>
</head>
<body>

<iframe id="frame"></iframe>
<div id="tapLayer"></div>
<div id="hint">Tik = website â€¢ Dubbelklik = direct terug</div>

<script>
  const LOOP_URL = "https://play.loopsign.eu/app/4146/313638";
  const WEB_URL  = "https://example.com/";
  const TIMEOUT  = 60000; // 60 sec

  const frame = document.getElementById("frame");
  const tapLayer = document.getElementById("tapLayer");
  const hint = document.getElementById("hint");

  let mode = "loop";
  let timer = null;

  // simple double-tap detect
  let lastTapTime = 0;
  const DOUBLE_TAP_MS = 350;

  function showLoop(){
    mode = "loop";
    frame.src = LOOP_URL;
    tapLayer.style.display = "block";   // vang taps
    hint.style.display = "block";
    if (timer) { clearTimeout(timer); timer = null; }
  }

  function showWeb(){
    mode = "web";
    frame.src = WEB_URL;

    // laat user in de website kunnen klikken
    tapLayer.style.display = "none";
    hint.style.display = "none";

    if (timer) clearTimeout(timer);
    timer = setTimeout(showLoop, TIMEOUT);
  }

  // Start in LoopSign
  showLoop();

  function onTap(e){
    e.preventDefault();
    e.stopPropagation();

    const now = Date.now();
    const isDouble = (now - lastTapTime) < DOUBLE_TAP_MS;
    lastTapTime = now;

    if (isDouble) {
      // direct terug
      showLoop();
      return;
    }

    // single tap: open website
    if (mode === "loop") showWeb();
  }

  // muis + touch
  tapLayer.addEventListener("click", onTap, {passive:false});
  tapLayer.addEventListener("touchstart", onTap, {passive:false});
  tapLayer.addEventListener("mousedown", onTap, {passive:false});
</script>

</body>
</html>
