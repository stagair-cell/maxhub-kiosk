<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kiosk Home</title>
  <style>
    html,body{margin:0;height:100%;width:100%;overflow:hidden;background:#000;font-family:Arial}
    /* Fullscreen kliklaag bovenop “home” */
    #tap{
      position:fixed; inset:0;
      background:rgba(0,0,0,0);
      touch-action:manipulation;
    }
    /* kleine terugknop (alleen in web-modus) */
    #back{
      position:fixed; top:16px; right:16px;
      padding:12px 14px;
      border:0; border-radius:14px;
      background:rgba(0,0,0,.55);
      color:#fff; font-weight:700;
      display:none; z-index:9999;
    }
    /* iframe enkel voor LoopSign “home” (mag) */
    iframe{position:fixed; inset:0; width:100%; height:100%; border:0}
  </style>
</head>
<body>

<iframe id="homeFrame"></iframe>
<div id="tap"></div>
<button id="back" type="button">Terug</button>

<script>
  const LOOP_URL = "https://play.loopsign.eu/app/4146/313638";
  const WEB_URL  = "https://sb.geboortelijst.be";

  // Modus via URL parameter: ?mode=home of ?mode=web
  const params = new URLSearchParams(location.search);
  const mode = params.get("mode") || "home";

  const homeFrame = document.getElementById("homeFrame");
  const tap = document.getElementById("tap");
  const back = document.getElementById("back");

  function goHome(){
    // terug naar home controller (blijft in GitHub)
    location.href = `${location.pathname}?mode=home&v=${Date.now()}`;
  }

  function goWeb(){
    // ga naar website (zelfde tab). Windows kiosk blijft fullscreen.
    location.href = WEB_URL;
  }

  if (mode === "home") {
    // Home = LoopSign in iframe, klik ergens -> website
    homeFrame.src = LOOP_URL;
    tap.style.display = "block";
    back.style.display = "none";

    tap.addEventListener("click", (e)=>{ e.preventDefault(); goWeb(); }, {passive:false});
    tap.addEventListener("touchend", (e)=>{ e.preventDefault(); goWeb(); }, {passive:false});
  }

  // Als je op de website zit, kan deze GitHub code niet draaien (andere site).
  // Daarom: terug naar home kan je NIET via code afdwingen zonder kiosk-software.
  // Oplossing op Windows: gebruik kiosk reset (min 5 min) of een aparte kiosk browser die terugknop injecteert.
</script>

</body>
</html>